var video=document.querySelector("video"),playBtn=document.getElementById("playBtn");function videoPlay(){video.play(),playBtn.innerHTML="<ion-icon name='pause-outline'></ion-icon>"}function videoPause(){video.pause(),playBtn.innerHTML="<ion-icon name='caret-forward-outline'></ion-icon>"}playBtn.onclick=function(){video.paused?videoPlay():videoPause()};var full=document.getElementById("full"),container=document.getElementById("container"),i=1;function screenChange(){if(++i%2==0)container.requestFullScreen?container.requestFullScreen():container.webkitRequestFullScreen?container.webkitRequestFullScreen():container.mozRequestFullScreen?container.mozRequestFullScreen():div01.msRequestFullscreen&&container.msRequestFullscreen(),$("#video-player").css({width:"100%",height:"100%","max-height":"100vh",padding:"0"}),$(".pos").css({bottom:"0",position:"absolute",width:"100%",bottom:"-3rem"}),full.innerHTML='<ion-icon name="contract-outline"></ion-icon>';else{document.cancelFullscreen?document.cancelFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();for(let time of timeId)clearTimeout(time);$("#video-player").css({width:"60%",height:"auto","max-height":"85vh",padding:"1%"}),$(".pos").css({position:"relative",width:"60%",bottom:"0"}),full.innerHTML='<ion-icon name="expand-outline"></ion-icon>'}}function number1(s){return s=s<10?"0"+s:""+s}full.onclick=screenChange;var time1=document.getElementById("time1"),time2=document.getElementById("time2"),t1;video.oncanplay=function(){t1=video.duration;var h=parseInt(t1/3600),m=parseInt(t1%3600/60),s=parseInt(t1%60);time2.innerHTML=number1(h)+":"+number1(m)+":"+number1(s)},video.ontimeupdate=function(){var t2=video.currentTime,h=parseInt(t2/3600),m=parseInt(t2%3600/60),s=parseInt(t2%60);time1.innerHTML=number1(h)+":"+number1(m)+":"+number1(s),progress.max=t2,progress.value=t2/t1*progress.max},video.onended=function(){progress.value=0,time1.innerHTML="00:00:00",playBtn.innerHTML="<ion-icon name='caret-forward-outline'></ion-icon>"},progress.onclick=function(e){var left=e.offsetX;console.log(left),console.log(t1),video.currentTime=left/320*t1},document.getElementById("video-close").onclick=function(){let player;$(".video-player").get("0").style.display="none",videoPause()};let timeId=[];function videoSpaceKeyDown(event){let player;"none"!==$(".video-player").get("0").style.display&&32===event.keyCode&&(video.paused?videoPlay():videoPause())}document.getElementById("video-player").onmousemove=function(){if(i%2==1)return;$(".pos").css({bottom:"0rem"});let time=setTimeout(()=>{$(".pos").css({bottom:"-3rem"})},2e3);timeId.push(time)},document.getElementById("video-player").onmouseover=function(){for(let time of timeId)clearTimeout(time);$(".pos").css({bottom:"0rem"})},document.onkeydown=videoSpaceKeyDown;